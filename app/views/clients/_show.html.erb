<div class="fixed inset-0 overflow-hidden z-50" 
     role="dialog" 
     data-controller="slideover"
     data-slideover-target="overlay"
     data-action="click->slideover#clickOutside">
  
  <div class="fixed inset-y-0 right-0 w-full max-w-md bg-white shadow-xl flex flex-col"
       data-slideover-target="panel"
       data-action="click->slideover#preventClose">
    
    <div class="p-6 bg-rojo-carmesi">
      <div class="flex items-start justify-between">
        <h2 class="text-lg font-poppins font-medium text-white">
          Detalles del Cliente
        </h2>
        <div class="ml-3 h-7 flex items-center">
          <button data-action="click->slideover#close" 
                  class="bg-rojo-carmesi rounded-md text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white">
            <span class="sr-only">Close panel</span>
            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div class="relative flex-1 p-6 space-y-6 overflow-y-auto">
      <div>
        <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Nombre</h3>
        <p class="font-montserrat text-lg text-negro-onix mt-1"><%= client.name %></p>
      </div>
      
      <div>
        <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Teléfono</h3>
        <p class="font-montserrat text-lg text-negro-onix mt-1">
          <% if client.phone.present? %>
            <%= client.phone %>
          <% else %>
            <span class="text-gray-400 italic">No especificado</span>
          <% end %>
        </p>
      </div>
      
      <div>
        <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Email</h3>
        <p class="font-montserrat text-lg text-negro-onix mt-1">
          <% if client.email.present? %>
            <%= client.email %>
          <% else %>
            <span class="text-gray-400 italic">No especificado</span>
          <% end %>
        </p>
      </div>

      <div>
        <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Dirección</h3>
        <p class="font-montserrat text-lg text-negro-onix mt-1">
          <% if client.address.present? %>
            <%= client.address %>
          <% else %>
            <span class="text-gray-400 italic">No especificada</span>
          <% end %>
        </p>
      </div>

      <!-- Código Postal y Estado en la misma línea -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Código Postal</h3>
          <p class="font-montserrat text-lg text-negro-onix mt-1">
            <% if client.zip_code.present? %>
              <%= client.zip_code %>
            <% else %>
              <span class="text-gray-400 italic">No especificado</span>
            <% end %>
          </p>
        </div>
        <div>
          <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Estado</h3>
          <p class="font-montserrat text-lg text-negro-onix mt-1">
            <% if client.state.present? %>
              <%= client.state %>
            <% else %>
              <span class="text-gray-400 italic">No especificado</span>
            <% end %>
          </p>
        </div>
      </div>

      <!-- Estado del Cliente y Fuente en la misma línea -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Estado del Cliente</h3>
          <span class="inline-flex px-2 py-1 text-xs leading-5 font-semibold rounded-full font-montserrat mt-1
            <% case client.status %>
            <% when 'lead' %>
              bg-blue-100 text-blue-800
            <% when 'no_contesto' %>
              bg-gray-100 text-gray-800
            <% when 'seguimiento' %>
              bg-yellow-100 text-yellow-800
            <% when 'cita_agendada' %>
              bg-purple-100 text-purple-800
            <% when 'reprogramar' %>
              bg-orange-100 text-orange-800
            <% when 'vendido' %>
              bg-green-100 text-green-800
            <% when 'mal_credito' %>
              bg-red-100 text-red-800
            <% when 'no_cerro' %>
              bg-red-100 text-red-800
            <% else %>
              bg-gray-100 text-gray-800
            <% end %>">
            <%= client.status.humanize %>
          </span>
        </div>
        <div>
          <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Fuente</h3>
          <span class="inline-flex px-2 py-1 text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800 font-montserrat mt-1">
            <%= client.source.humanize.gsub('_', ' ') %>
          </span>
        </div>
      </div>

      <% if client.seller.present? %>
        <div>
          <h3 class="font-poppins text-sm font-semibold text-gray-500 uppercase">Vendedor Asignado</h3>
          <p class="font-montserrat text-lg text-negro-onix mt-1"><%= client.seller.name %></p>
        </div>
      <% end %>

    <div class="flex-shrink-0 px-4 py-4 flex justify-end items-center space-x-4 border-t">
      <%= link_to "Editar", edit_client_path(client), class: "font-poppins text-negro-onix hover:text-rojo-carmesi transition-colors" %>
      <button type="button" class="bg-rojo-carmesi text-white font-poppins font-semibold py-2 px-5 rounded-lg hover:opacity-90 transition-opacity">
        Llamar
      </button>
    </div>
  </div>
</div>