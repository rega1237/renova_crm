<div class="space-y-4">
  <div class="flex items-center justify-between">
    <h3 class="font-poppins text-lg font-semibold text-negro-onix">Historial de llamadas</h3>
    <%= link_to "Volver", client_path(client), data: { turbo_frame: "slideover", turbo_action: "advance" }, class: "text-rojo-carmesi font-poppins hover:underline" %>
  </div>
  <div class="bg-white rounded-xl shadow-md overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Llamante</th>
          <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fecha</th>
          <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <% calls.each do |call| %>
          <tr class="hover:bg-gray-50 transition-colors">
            <td class="px-4 py-3 font-montserrat text-sm text-negro-onix"><%= call.client&.name || call.contact_list&.name || call.user&.name || "-" %></td>
            <td class="px-4 py-3 font-montserrat text-sm text-negro-onix"><%= [call.call_date&.strftime('%d/%m/%Y'), call.call_time&.strftime('%H:%M')].compact.join(' ') %></td>
            <td class="px-4 py-3">
              <%= link_to "Ver detalles", call_client_path(client, call_id: call.id), data: { turbo_frame: dom_id(client, :content), turbo_action: "advance" }, class: "text-rojo-carmesi font-poppins font-medium text-sm hover:underline" %>
            </td>
          </tr>
        <% end %>
        <% if calls.empty? %>
          <tr>
            <td colspan="3" class="px-4 py-6 text-center text-gray-500 font-montserrat">Sin llamadas</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>