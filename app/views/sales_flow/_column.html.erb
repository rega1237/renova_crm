<div class="kanban-column flex flex-col h-[75vh]" 
     data-status="<%= status %>" 
     data-sales-flow-target="column"
     data-sortable="true"
     data-total-count="<%= (@total_counts_by_status || {})[status] %>">
  <!-- Header de la columna -->
  <div class="p-4 border-b border-gray-200">
    <div class="flex items-center justify-between">
      <h3 class="font-poppins font-semibold text-gray-800">
        <%= status_display_name(status) %>
      </h3>
      <span data-count-badge class="bg-<%= status_color(status) %>-100 text-<%= status_color(status) %>-800 text-xs font-medium px-2.5 py-0.5 rounded-full">
        <%= clients.count %>/<%= (@total_counts_by_status || {})[status] || clients.count %>
      </span>
    </div>
  </div>
  <!-- Lista de clientes -->
  <div class="p-3 space-y-3 flex-1 overflow-y-auto" data-sales-flow-target="clientList">
    <% clients.each do |client| %>
      <%= render 'client_card', client: client %>
    <% end %>
    <% if clients.empty? %>
      <div class="flex flex-col items-center justify-center py-8 text-gray-400">
        <svg class="w-12 h-12 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
        </svg>
        <span class="text-sm font-montserrat">Sin clientes</span>
      </div>
    <% end %>
  </div>
  <div class="load-more-sentinel h-8 flex items-center justify-center text-gray-400 text-xs" data-sales-flow-target="loadMoreTrigger" data-status="<%= status %>">
    <!-- Se usa como indicador para cargar mÃ¡s al hacer scroll -->
  </div>
</div>