<%= turbo_frame_tag "call_ui" do %>
  <!-- Fixed Call UI container (hidden by default, shown via Stimulus) -->
  <div 
    id="call-ui-container"
    data-controller="call-ui"
    data-call-ui-target="container"
    class="fixed top-4 right-4 z-50 hidden"
  >
    <!-- Card -->
    <div class="flex items-center gap-3 bg-negro-onix text-white rounded-2xl shadow-xl px-4 py-3 transition transform duration-200 ease-out">
      <!-- Avatar placeholder -->
      <div class="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center">
        <svg class="w-6 h-6 text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
      </div>

      <!-- Info -->
      <div class="mr-2">
        <div class="font-poppins font-semibold text-base" data-call-ui-target="name">Llamando...</div>
        <div class="font-montserrat text-xs text-gray-300" data-call-ui-target="phone"></div>
        <div class="font-montserrat text-[11px] text-gray-400" data-call-ui-target="status"></div>
      </div>

      <!-- Controls -->
      <div class="flex items-center gap-2 ml-auto">
        <!-- Mute/Unmute -->
        <button type="button" 
                class="p-2 rounded-full bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500"
                title="Mute/Unmute"
                data-call-ui-target="muteButton"
                data-action="click->call-ui#toggleMute">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6a3 3 0 016 0v13m-9-6a9 9 0 009 9 9 9 0 009-9" />
          </svg>
        </button>

        <!-- Speaker/Headphones toggle -->
        <button type="button" 
                class="p-2 rounded-full bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500"
                title="Altavoz/AudÃ­fonos"
                data-call-ui-target="speakerButton"
                data-action="click->call-ui#toggleOutput">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10a4 4 0 014-4h1a4 4 0 014 4v7a3 3 0 01-3 3H7a3 3 0 01-3-3v-7zm13-4h1a4 4 0 014 4v7a3 3 0 01-3 3h-2a3 3 0 01-3-3v-7a4 4 0 014-4z" />
          </svg>
        </button>

        <!-- Hangup/Close -->
        <button type="button" 
                class="p-2 rounded-full bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"
                title="Colgar"
                data-call-ui-target="hangupButton"
                data-action="click->call-ui#hangup">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12c4-4 12-4 16 0l-3 3a2 2 0 01-2 0l-2-2a2 2 0 00-2 0l-2 2a2 2 0 01-2 0l-3-3z" />
          </svg>
        </button>
      </div>
    </div>
  </div>
<% end %>