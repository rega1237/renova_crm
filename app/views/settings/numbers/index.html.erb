<div class="p-8">
  <div class="flex items-center justify-between mb-6">
    <h1 class="font-poppins text-2xl font-bold text-rojo-carmesi">Números de Twilio</h1>
    <%= link_to "Nuevo Número", new_settings_number_path, class: "bg-rojo-carmesi text-white font-semibold py-2 px-4 rounded hover:bg-rojo-carmesi-dark" %>
  </div>

  <div class="overflow-x-auto bg-white rounded-xl shadow">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Número</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estado</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Asignado a</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <% @numbers.each do |number| %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap font-montserrat"><%= number.phone_number %></td>
            <td class="px-6 py-4 whitespace-nowrap font-montserrat"><%= number.state %></td>
            <td class="px-6 py-4 whitespace-nowrap font-montserrat"><%= number.user&.name || number.user&.email %></td>
            <td class="px-6 py-4 whitespace-nowrap font-montserrat">
              <% badge_class = number.active? ? "bg-emerald-100 text-emerald-800" : "bg-gray-100 text-gray-800" %>
              <span class="inline-flex px-2 py-1 text-xs font-semibold rounded <%= badge_class %>"><%= number.status %></span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap font-montserrat space-x-2">
              <%= link_to "Mostrar", settings_number_path(number), class: "text-blue-600 hover:text-blue-800" %>
              <%= link_to "Editar", edit_settings_number_path(number), class: "text-amber-600 hover:text-amber-800" %>
              <%= link_to "Eliminar", settings_number_path(number), data: { turbo_method: :delete, turbo_confirm: "¿Eliminar este número?" }, class: "text-red-600 hover:text-red-800" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<%= render 'shared/call_ui_frame' %>